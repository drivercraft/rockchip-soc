# RK3588 文档目录

本目录包含 RK3588 SoC 的技术文档和实现说明。

## 📚 文档列表

### 核心文档

1. **[README.md](README.md)** - 文档索引和快速导航
2. **[PLL.md](PLL.md)** - PLL 时钟配置完整说明
3. **[PLL_ID_MAPPING.md](PLL_ID_MAPPING.md)** - PLL ID 双重映射系统详解
4. **[TEST_REPORT.md](TEST_REPORT.md)** - PLL 配置测试报告

## 📖 文档说明

### PLL.md - PLL 时钟配置

包含内容:
- 9 个 PLL 的列表和用途
- 寄存器映射表
- 频率计算公式 (整数和小数分频)
- 17 个预设频率配置
- 使用示例和代码片段
- 与 u-boot 的对比

**适合**: 需要了解 RK3588 PLL 硬件配置的开发者

### PLL_ID_MAPPING.md - ID 映射说明

包含内容:
- 两套 ID 系统的来源和用途
- 完整的映射表
- 使用示例
- 常见错误和正确做法

**适合**: 需要理解 PLL ID 设计或排查相关问题的开发者

### TEST_REPORT.md - 测试报告

包含内容:
- 21 个单元测试的覆盖说明
- 关键修正历史
- 与 u-boot C 代码的详细对比
- 完整的测试执行结果

**适合**: 需要验证实现正确性或了解测试覆盖的开发者

## 🚀 快速开始

### 我想要...

| 需求 | 推荐文档 |
|------|---------|
| 了解 RK3588 PLL 硬件 | [PLL.md](PLL.md) |
| 使用 PLL 配置 API | [PLL.md](PLL.md#使用示例) |
| 计算 PLL 输出频率 | [PLL.md](PLL.md#频率计算公式) |
| 理解为什么时钟 ID 从 1 开始 | [PLL_ID_MAPPING.md](PLL_ID_MAPPING.md#为什么这样设计) |
| 排查 PLL ID 相关错误 | [PLL_ID_MAPPING.md](PLL_ID_MAPPING.md#常见错误) |
| 验证实现正确性 | [TEST_REPORT.md](TEST_REPORT.md) |

## 🔗 相关代码

| 代码文件 | 说明 |
|---------|------|
| `src/variants/rk3588/cru/pll.rs` | RK3588 PLL 配置实现 |
| `src/clock/pll.rs` | 通用 PLL 基础类型定义 |
| `src/variants/rk3588/cru/consts.rs` | CRU 寄存器常量 |

## 🧪 测试

运行所有 RK3588 PLL 测试:

```bash
cd rockchip-soc
cargo test --lib pll
```

预期结果:
```
test result: ok. 21 passed; 0 failed
```

## 📚 外部参考

1. **u-boot 源码**
   - `drivers/clk/rockchip/clk_rk3588.c`
   - `drivers/clk/rockchip/clk_pll.c`
   - `arch/arm/include/asm/arch-rockchip/cru_rk3588.h`

2. **设备树绑定**
   - `include/dt-bindings/clock/rk3588-cru.h`

3. **硬件文档**
   - RK3588 TRM (Technical Reference Manual)

---
**文档版本**: 1.0
**最后更新**: 2025-12-31
